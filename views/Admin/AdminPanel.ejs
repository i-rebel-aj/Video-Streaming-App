<html>
    <head>
        <title>
            Admin Panel
        </title>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    </head>
    
<style>
    /*
    DEMO STYLE
*/

@import "https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700";
body {
    font-family: 'Poppins', sans-serif;
    background: #fafafa;
}

p {
    font-family: 'Poppins', sans-serif;
    font-size: 1.1em;
    font-weight: 300;
    line-height: 1.7em;
    color: #999;
}

a,
a:hover,
a:focus {
    color: inherit;
    text-decoration: none;
    transition: all 0.3s;
}

.navbar {
    padding: 15px 10px;
    background: #fff;
    border: none;
    border-radius: 0;
    margin-bottom: 40px;
    box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
}

.navbar-btn {
    box-shadow: none;
    outline: none !important;
    border: none;
}

.line {
    width: 100%;
    height: 1px;
    border-bottom: 1px dashed #ddd;
    margin: 40px 0;
}

/* ---------------------------------------------------
    SIDEBAR STYLE
----------------------------------------------------- */

.wrapper {
    display: flex;
    width: 100%;
    align-items: stretch;
}

#sidebar {
    min-width: 250px;
    max-width: 250px;
    background: #212121;
    color: #fff;
    transition: all 0.3s;
}

#sidebar.active {
    margin-left: -250px;
}

#sidebar .sidebar-header {
    padding: 10px;
    background: #2F89FC;
}

#sidebar ul.components {
    padding: 20px 0;
}

#sidebar ul p {
    color: #fff;
    padding: 10px;
}

#sidebar ul li a {
    padding: 10px;
    font-size: 1.1em;
    display: block;
}

#sidebar ul li a:hover {
    color: rgb(35, 77, 243);
    background: white;
}
a[data-toggle="collapse"] {
    position: relative;
}
ul ul a {
    font-size: 0.9em !important;
    padding-left: 30px !important;
    background: #2F89FC;
}
a.article,
a.article:hover {
    background: #2F89FC !important;
    color: white !important;
}

/* ---------------------------------------------------
    CONTENT STYLE
----------------------------------------------------- */

#content {
    width: 100%;
    padding: 20px;
    min-height: 100vh;
    transition: all 0.3s;
}

/* ---------------------------------------------------
    MEDIAQUERIES
----------------------------------------------------- */

@media (max-width: 768px) {
    #sidebar {
        margin-left: -250px;
    }
    #sidebar.active {
        margin-left: 0;
    }
    #sidebarCollapse span {
        display: none;
    }
}
</style>
<body>
    <div class="wrapper">
        <!-- Sidebar  -->
        <nav id="sidebar">
            <div class="sidebar-header">
                <h4>Admin Panel</h4>
            </div>
            <ul class="list-unstyled components">
                <p>Dummy Heading</p>
                <li>
                    <a href="#" onclick="showUserList()"><i class="fa fa-users" aria-hidden="true"></i>
                        User</a>
                </li>
                <li>
                    <a href="#" onclick="showVideoList()"><i class="fa fa-video-camera" aria-hidden="true"></i>
                        Videos</a>
                </li>
                <li>
                    <a href="#" onclick="showReportList()"><i class="fa fa-flag" aria-hidden="true"></i>
                        Reports</a>
                </li>
                <li>
                    <a href="#" onclick="showModeratorList()"><i class="fa fa-user-md" aria-hidden="true"></i>
                        Moderators</a>
                </li>
                <li>
                    <a href="#" onclick="viewStats()"><i class="fa fa-line-chart" aria-hidden="true"></i>
                        View Stats</a>
                </li>
            </ul>
        </nav>
        <!-- Page Content  -->
        <div id="content">
            <nav class="navbar navbar-expand-lg navbar-light bg-light">
                <div class="container-fluid">
                    <button type="button" id="sidebarCollapse" class="btn btn-info">
                        <span>Toggle Menu</span>
                    </button>
                </div>
            </nav>
            <div class="container">
                <div id="UserList">
                    <h4>Viewing Users</h4> 
                    <table class="table">
                        <thead class="thead-dark">
                            <tr>
                                <th>ID</th>
                                <th>Name</th>
                                <th>Videos Uploaded</th>
                                <th>Username</th>
                                <th>Joined At</th>
                                <th>View Videos</th>
                                <th>Delete</th>
                            </tr>
                        </thead>
                        <tbody>
                            <%Users.forEach(function(user){%>
                                <tr>
                                    <td><%=user._id%></td>
                                    <td><%=user.Name%></td>
                                    <td><%=user.Videos.length%></td>
                                    <td><%=user.Username%></td>
                                    <td><a href="#" class="btn btn-outline-primary btn-sm">View</a></td>
                                    <td><a href="#" class="btn btn-outline-danger btn-sm">Delete</a></td>
                                </tr>
                            <%});%>
                        </tbody>
                    </table>
                </div>
                <div id="VideoList" style="display: none;">
                    <h4>Viewing All Non-Reported Videos</h4>
                    <table class="table">
                        <thead class="thead-dark">
                            <tr>
                                <th>ID</th>
                                <th>Video Title</th>
                                <th>Moderation Status</th>
                                <th>Author</th>
                                <th>Uploaded At</th>
                                <th>View Video</th>
                                <th>Delete</th>
                            </tr>
                        </thead>
                        <tbody>
                            <%Videos.forEach(function(video){ %>
                                <%if(video.ReportStatus===false){%>
                                <tr>
                                    <td><%=video._id%></td>
                                    <td><%=video.VideoTitle%></td>
                                    <%if(video.ModerationStatus===false){%>
                                        <td><a href="/view/<%=video._id%>" class="btn btn-outline-success btn-sm">Moderate</a></td>
                                    <%}else{%>
                                        <td>Moderated</td>
                                    <%}%>
                                    <td><%=video.author.Username%></td>
                                    <td><%=video.createdAt%></td>
                                    <td><a href="/video/<%=video._id%>" class="btn btn-outline-primary btn-sm">View</a></td>
                                    <td><form action="/video/<%=video._id%>?_method=DELETE" method="POST"><button class="btn btn-outline-danger btn-sm">Delete</button></form></td>
                                </tr>
                                <%}%>
                            <%});%>
                        </tbody>
                    </table>
                </div>
                <div id="ReportList" style="display: none;">
                    <h4>Following Videos were found inappropriate to others</h4>
                    <table class="table">
                        <thead class="thead-dark">
                            <tr>
                                <th>ID</th>
                                <th>Video Title</th>
                                <th>Author</th>
                                <th>Uploaded At</th>
                                <th>View Video</th>
                                <th>Delete</th>
                            </tr>
                        </thead>
                        <tbody>
                            <%Videos.forEach(function(video){%>
                                <%if(video.ReportStatus===true){%>
                                <tr>
                                    <td><%=video._id%></td>
                                    <td><%=video.VideoTitle%></td>
                                    <td><%=video.author.Username%></td>
                                    <td><%=video.createdAt%></td>
                                    <td><a href="/video/<%=video._id%>" class="btn btn-outline-primary btn-sm">View</a></td>
                                    <td><form action="/video/<%=video._id%>?_method=DELETE" method="POST"><button class="btn btn-outline-danger btn-sm">Delete</button></form></td>
                                </tr>
                                <%}%>
                            <%});%>
                        </tbody>
                    </table>
                </div>
                <div id="ModeratorList" style="display: none;">
                    <h4>Viewing Moderators</h4> 
                    <table class="table">
                        <thead class="thead-dark">
                            <tr>
                                <th>ID</th>
                                <th>Name</th>
                                <th>Username</th>
                                <th>Videos Moderated</th>
                                <th>Delete</th>
                            </tr>
                        </thead>
                        <tbody>
                            <%Moderators.forEach(function(moderator){%>
                                <tr>
                                    <td><%=moderator._id%></td>
                                    <td><%=moderator.Name%></td>
                                    <td><%=moderator.Username%></td>
                                    <td><%=moderator.VideosModerated.length%></td>
                                    <td><a href="#" class="btn btn-outline-primary btn-sm">View</a></td>
                                    <td><a href="#" class="btn btn-outline-danger btn-sm">Delete</a></td>
                                </tr>
                            <%});%>
                        </tbody>
                    </table>
                    <a href="#" class="btn btn-outline-success">Add Moderators</a>
                </div>
                <div id="ViewStats" style="display: none;">
                    <h1>Stats List will go here</h1>
                </div>
            </div>
        </div>
    </div>
<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
<script type="text/javascript">
    $(document).ready(function () {
        $('#sidebarCollapse').on('click', function () {
            $('#sidebar').toggleClass('active');
        });
    });
    var VideoList=document.getElementById("VideoList");
    var UserList=document.getElementById("UserList");
    var ReportList=document.getElementById("ReportList");
    var ModeratorList=document.getElementById("ModeratorList");
    var ViewStats=document.getElementById("ViewStats");
    function showUserList(){
        UserList.style.display="block";
        VideoList.style.display="none";
        ReportList.style.display="none";
        ModeratorList.style.display="none";
        ViewStats.style.display="none";
    }
    function showVideoList(){
        UserList.style.display="none";
        VideoList.style.display="block";
        ReportList.style.display="none";
        ModeratorList.style.display="none";
        ViewStats.style.display="none";
    }
    function showModeratorList(){
        UserList.style.display="none";
        VideoList.style.display="none";
        ReportList.style.display="none";
        ModeratorList.style.display="block";
        ViewStats.style.display="none";
    }
    function showReportList(){
        UserList.style.display="none";
        VideoList.style.display="none";
        ReportList.style.display="block";
        ModeratorList.style.display="none";
        ViewStats.style.display="none";
    }
    function viewStats(){
        UserList.style.display="none";
        VideoList.style.display="none";
        ReportList.style.display="none";
        ModeratorList.style.display="none";
        ViewStats.style.display="block";
    }
</script>
</body>
</html>